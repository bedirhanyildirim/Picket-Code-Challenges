# Task 3

I tried two different approaches to complete the challenge.

## First approach

Use [Promise.race()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race?retiredLocale=tr) in the running threads and trigger the next process in the queue as soon as a process is completed. However, I couldn't properly make the queued threads subscribe to Promise.race().

**Problem:** The queued processes are subscribed to the same Promise.race(), causing them to be triggered all together without respecting the parallelLimit. It is not working as expected.

[**threads-promise-race.ts Code**](https://github.com/bedirhanyildirim/Picket-Code-Challenges/blob/main/Task%203/thread.ts) | [**Online Demo**](https://www.typescriptlang.org/play?#code/GYVwdgxgLglg9mABAWwIYAcCCBnAnpAMXGnjAB4AVAGkQFUA%20ACgChFEA3VAGxAFNsAXIgoBtALpVWiVHkJghjTj15CKASkQBeeogAKAJzjIY2XmQaS26VPu5deXADIxjUIWBDIARr33MNAN5SEAjYUIj64BQuKogAshhkHt6%20NAZGJmaoYLj0OpqIYLwA7vEYjBoA9JUR4GAwYADmiFAAFvq8qAAm2MzBoeHdXekQ-NhaiIrcfELZuDQNXbwAHu6ePvoa2ogBiNXSXV2I6Iaj2ONQcC3tnT0oGIheuIiLK1JsIWDYcPYAdFxwRqMAAGAGUoDZwiteBAQLAEIgAMQAEgCr2WAGoAIwAX2BaneiE%20YWOhmMpgmMnwEAIYCmyjUvzavDpFS0Ol2%20zQ6A4014iGKMDa0lkEEQoEg8LAhI%20oR%20vH%20gJBAFFljC4aQkaj0dicUSjOh7FBeF18TLamBosgFUsjbxGOiqjUOsg4Ox%20cAydcOt1xsVWiyXuETIgugh%20ZEwPUmoScQS2GxI1aFaYoA6wEtljQThlTE6DkdLt7bn6A0ghYgwpDemwcX02Eo%20NhfsA4PplagIK1GPSZnMFhmVgJkhsthy9jVGlc2oYQI1WtIuFxrvzG-xHs9w4SYMBJkmYr9sDAAF78%20gFay2JcOZyuQJsfbMjovcZgK68ZDoKDPbDoODBpBmWLX1zWqYl5UVIFgQAKlgxBVXVKUtTRQdMVxAVUCFBpmgaFdEAARz4PhEFg2CzQTBN0nJBVbFGRgRF%20Rj92tX412wCoxEZZlWTHHYJwwitYCXRBw31T87RrCiEzAuU-gBKDSPgtVYSQlEUMzXUBPCYAGhMAMugAQhI0jyKktghhGMZe14AdM3jKS41jRAHApTkaiffkQw-L8fz-AC8JnEtzXMw5LPOazbJWezaykRy62YSpFIofhwlIypmGJcIq30cICgAEVQY1fjfYo2X2ABhH1jVDQr%20SLUx%20VaOBSgBJpQzgddBNQABrOqrh0%20psAXIDoRU0g%20kykVqVpSlRWstYUk2dk%20P2UEXBALhCs1KlIHFYgkNbfRjhsVBrWNPwH0qcC5KVYEELGhE1LXPUc1GE1sMY0zJo6cYClQYpMPCIpSiozIex%20n53V4oIKNTZM4DhHtoeCidroVeSVWUjVHtRZ6xMNXhjXGXDUQKoqSrZABaSsIRynFkGwUyzIhrh3Ws6LEBxGgEjaX5bAzIw2WgxAsQABnF%20zHMTQmQH0JAfuYeLJrYhaNnECZ1cfFLeWUcYbFsXA%20kOyYjReCYsQAbjNsgCjFq2YAxDF732HThKAonwjY6R9ANgUhQXNipDY350BAIaHQJeLuRwab9tIazsBoHaaTAGgAGZ80jPCJRIBAgA)

## Second approach

After encountering issues with Promise.all() and Promise.race(), I changed my approach and decided to use [setInterval](https://developer.mozilla.org/en-US/docs/Web/API/setInterval) to check if I can trigger the next process. This new method works as expected.

**Problem:** I followed the instructions in the document and used console.log prints accordingly. However, when the duration of the async function's wait is less than the interval's delay duration, it can skip or duplicate the process IDs in the console.log. However, there is nothing wrong with the actual processes themselves.

[**thread.ts Code**](https://github.com/bedirhanyildirim/Picket-Code-Challenges/blob/main/Task%203/thread.ts) | [**Online Demo**](https://www.typescriptlang.org/play?#code/PQKjAIFsEMAdwGYFcB2BjALgSwPYvGCMAFDLrZ5RwCCAzgJ7oBiqmuKAPACoA04AqgD4AFMXDgAbtAA2SAKa0AXOC4BtALo8x4aA2YplwqbLnKuASnABeQeAAKAJxyQstORyFbxsaA5nS5aQAZLBcMZRQkSAAjOQdiSwBvbTQ8WgxwDAALBzloABMlcABZOA5ImLi+R2dXdyFbK3AUOQB3ErhhS2BgcAdUFCwUAHNMnLzC7QCMloAPDBq0BSKK2IdrcAAGcB6xuWa5efBYJyXaWnAh-MPL-GN5C98-emIUtIyC-MXljaMZeTMfCuhwiUTWlhs4ESO16n2Opx+GBwY1yBQuMHg0Xot2us204iwCHAwjmCwR53AHGOvn8gRCYSS+PE4FSKFoOACADppDhhsIAAYAZQwvgyhzkaCQFHwAGIACSJYGzADUAEYAL788xM9VM1npeG1NwbXSMNBMFB-EzmTnZOSW4S5WgQ2zQ3YYyT-fatLDZHR6NCIVjSpkEokkw5knBnC5U+4Kbn24bZRnMtMstIcuTc3kCgCiswlUvY4HlipQuLV6ozkFg0wUfHSovA4sl0tLCtJ3wpyvAGq1ofA1cCxuS6eZ+qzOb5-ILRfbZaVVZrdbkGAUA-HuvH2VRhU513rwiV3V6uUgOAk+wQTkgKImF1aWXtlwyrnA+Tw+36KEGI0HuQYEgDj4E6Orammu4PpybgYMeFaHHwJxGnIp46Pk+SZMiUFouAT4vr64BNg4GC0NoupvGyb60EwuT7E0XSKNEOBZtA+CQjh+60FgABe+xUj4fjSAEwShIRuzvnauQ6Pgci1hg2K0LAOBvvgdr3milEGvaXzkhcDEulCMJEUi8BwHWWBoNA7ZkGweB6gEvgAJIoOuDjGI6EETpmXI8nyABEQxucYLKObk+QAIT+V5FHiNMfQbLBLnBTIwi2dKXRGbs5nSJZ1klsRpFMoSxLxrQiYjH6VhNF2elJMZ-iGjGADkJminI+SDjp3a0JluzpDgZmwBZVnRAEOottIxolceNF0V09USUSUn7O+cmwApRHKRgg6fD1VoPKotXRssmgHPMPVoYV50ZMhMaDsdMbKr2EnoKixqkk1PxKjq5F8AArGhaDPmgADWLZXg42L-ZAZEUaAEBcAoGSECQ+oZNdTQACLWdmKA4K0fW9AAwqi64frjWFEXI+xZAT4A8iMH44Aor6ZNAoP7EiiBDK4WR7C2hZtuwrzo-6ZoWiaAYHaYzRgnEhlur0gqhEg0j5ZQproEG5AlggODrIJ0CQGucTaD0k6+bms5C8WlBlvG1Z3TT+RDMMnKcpuGZUX0rNNNArTQIRLTtDULhuMIjoKByV6K0ysFcKEcg4FKkdx+O4gWz52Z+fmtsLgqjsrvWFxDOACo4+unL44TlgALRtSR6qw1745OjHcgy154jqnwpTZJyfgVs4mUgOA-2bJPMVeYBwGgQoxAUWLZWgpUDgaBsG+7OuBplToDjPK8+vrMI8VYBsqoANyXJSTSqpP19YM9i29AgWDCQLO8ZHvTzQNiPp+jKtoMqnJYBIFoFkY82oKIYjoBLYM7AZa0D4Frc0KA+CqkBsZH8At0rsCAA)